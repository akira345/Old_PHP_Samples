<?php

//15puzzle.phpVer1.00用外部ユーザー関数定義ファイル
//Copyright(c)2003 Akira345

/***********************************************
//乱数初期化：ＰＨＰドキュメントより抜粋

//大まかな説明：
//マイクロタイムを取得し、それを基にシードを作成し、乱数を初期化している・・・みたい

//引数：無し
//返り値：?
***********************************************/
// マイクロでシードを設定する
 function make_seed() {
     list($usec, $sec) = explode(' ', microtime());
     return (float) $sec + ((float) $usec * 100000);
 }


/**********************************************
//配列に１から順番に数字を代入

//引数：初期化する配列の最大数
//返り値：初期化した配列を","で区切った結合配列
//使用時はexplode命令で結合配列を展開する必要がある。
**********************************************/
function INIT($in_souwaku)//(*1)
{
$kousi[0]=0;			//数合わせのための配列変数初期化
	for ($i=1;$i<=$in_souwaku;$i++)
	{
	
	$kousi[$i]=$i;//配列に１から順番に代入
	}
	return implode(",",$kousi);
}


/*********************************************
//完成したかをチェック

//引数：配列を","で区切った結合配列、総枠数。
//返り値：完成時０、未完成時１
*********************************************/
function chk_completion($in_kousi,$in_souwaku)//完成したかチェックルーチン
{
$kousi=explode(",",$in_kousi);//結合配列展開
	//完成チェックルーチン−開始−
	//完成か？(*3)

	$f=0;$i=0;$err=0;//各種変数初期化
	while($f==0)
	{
	$i=$i+1;//カウンター変数を上げる
	if ($kousi[$i]==$i)//配列の中身がカウンターの数字と一緒だったら
		{
		if ($i==$in_souwaku)//全てチェックしたら
			{
			$f=1;//フラグを挙げてループを出る
			}
			else
			{
			//何もしない・・・
			}
		}
		else
		{
		$err=1;$f=1;//エラーフラグを挙げループを抜ける
		}
	}
	return $err;
	//完成チェックルーチン−終わり−
}


//終わり
?>